# ğŸ” AccÃ¨s Admin

## ğŸ¯ Comment devenir admin ?

Actuellement, le systÃ¨me dÃ©tecte un admin si l'**email contient le mot "admin"**.

### MÃ©thode 1 : CrÃ©er un nouveau compte admin (RECOMMANDÃ‰)

**Via la page d'inscription :**

1. Allez sur http://localhost:3000
2. Cliquez "CrÃ©er un compte"
3. Remplissez avec :
   - **Nom** : Admin Principal
   - **Email** : `admin@coach.fr` âœ… (contient "admin")
   - **Password** : `Admin123456!`
   - **SpÃ©cialitÃ©** : Administration
4. CrÃ©ez le compte
5. Connectez-vous

---

### MÃ©thode 2 : Modifier un compte existant

**Dans Supabase SQL Editor :**

```sql
-- Trouver votre coach actuel
SELECT id, name, email FROM coachs WHERE email = 'test@coach.fr';

-- Modifier l'email pour ajouter "admin"
UPDATE coachs 
SET email = 'admin.test@coach.fr'
WHERE email = 'test@coach.fr';

-- VÃ©rifier
SELECT id, name, email FROM coachs WHERE email LIKE '%admin%';
```

Puis **dÃ©connectez-vous et reconnectez-vous** avec le nouvel email.

---

### MÃ©thode 3 : CrÃ©er directement dans Supabase

**Supabase Dashboard** > **Authentication** > **Users** > **Add user**

- Email : `admin@coach.fr`
- Password : `Admin123456!`
- âœ… Auto Confirm User

Puis dans **SQL Editor** :

```sql
-- RÃ©cupÃ©rer l'UUID du user crÃ©Ã©
SELECT id, email FROM auth.users WHERE email = 'admin@coach.fr';

-- CrÃ©er le coach avec cet UUID
INSERT INTO public.coachs (id, name, email, specialty, created_at)
VALUES (
  'UUID_COPIE_ICI'::uuid,
  'Admin Principal',
  'admin@coach.fr',
  'administration',
  now()
);
```

---

## ğŸ¯ VÃ©rification rapide

Une fois connectÃ© avec un compte "admin", vous devriez voir dans le header :

```
Dashboard | Admin | [DÃ©connexion]
          ^^^^^^
       Ce bouton apparaÃ®t !
```

---

## ğŸ”’ Pour une vraie app production

Je recommande d'ajouter une **colonne `is_admin` boolean** dans la table `coachs` :

```sql
-- Ajouter la colonne
ALTER TABLE public.coachs 
ADD COLUMN is_admin BOOLEAN DEFAULT false;

-- Promouvoir un coach en admin
UPDATE public.coachs 
SET is_admin = true 
WHERE email = 'admin@coach.fr';
```

Puis modifier le code dans `App.tsx` :

```typescript
const checkIfAdmin = async (userId: string) => {
  const { data } = await supabase
    .from('coachs')
    .select('is_admin')
    .eq('id', userId)
    .single()
  
  if (data?.is_admin) {
    setIsAdmin(true)
  }
}
```

---

**Quelle mÃ©thode prÃ©fÃ©rez-vous essayer ? Je vous guide ! ğŸš€**

est ce qu'il ne faut pas creer des sous repertoire ou mieux
organiser le code et l'infra , pour auditer , anlayser , 
debugger ou faire evoluer plus facilement l'appliweb dans son ensemble ?